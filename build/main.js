!function(e){function n(n){for(var o,a,c=n[0],s=n[1],l=n[2],u=0,f=[];u<c.length;u++)a=c[u],r[a]&&f.push(r[a][0]),r[a]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);for(d&&d(n);f.length;)f.shift()();return i.push.apply(i,l||[]),t()}function t(){for(var e,n=0;n<i.length;n++){for(var t=i[n],o=!0,c=1;c<t.length;c++){var s=t[c];0!==r[s]&&(o=!1)}o&&(i.splice(n--,1),e=a(a.s=t[0]))}return e}var o={},r={0:0},i=[];function a(n){if(o[n])return o[n].exports;var t=o[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,a),t.l=!0,t.exports}a.m=e,a.c=o,a.d=function(e,n,t){a.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,n){if(1&n&&(e=a(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(a.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)a.d(t,o,function(n){return e[n]}.bind(null,o));return t},a.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(n,"a",n),n},a.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},a.p="";var c=window.webpackJsonp=window.webpackJsonp||[],s=c.push.bind(c);c.push=n,c=c.slice();for(var l=0;l<c.length;l++)n(c[l]);var d=s;i.push([2,1]),t()}([,,function(e,n,t){t(5),e.exports=t(3)},function(e,n,t){},,function(e,n,t){"use strict";t.r(n);var o=t(0),r=t(1);function i(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var a=function(){function e(n){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.opts={camera:{fov:n.camera.fov,aspect:n.camera.aspect,near:n.camera.near,far:n.camera.far,position:{x:n.camera.position.x,y:n.camera.position.y,z:n.camera.position.z}},dom:{main:n.dom.main}},this.scene=new o.Scene,this.camera=new o.PerspectiveCamera(this.opts.camera.fov,this.opts.camera.aspect,this.opts.camera.near,this.opts.camera.far),this.camera.position.z=this.opts.camera.position.z,this.renderer=new o.WebGLRenderer({alpha:!0}),this.model,this.domElement=document.getElementById(this.opts.dom.main),this.onInit()}return function(e,n,t){n&&i(e.prototype,n),t&&i(e,t)}(e,[{key:"onInit",value:function(){this.renderer.setSize(this.domElement.offsetWidth,this.domElement.offsetWidth),this.renderer.setClearColor(16777215,0),this.domElement.appendChild(this.renderer.domElement)}},{key:"addSimpleLight",value:function(e){var n={color:e.color||16777215,intencity:e.intencity||1,distance:e.distance||0,decay:e.decay||1,x:e.x||25,y:e.y||25,z:e.z||100},t=new o.PointLight(n.color,n.intencity,n.distance,n.decay);return t.position.set(n.x,n.y,n.z),this.scene.add(t),t}},{key:"addModel",value:function(e){var n=this;return new Promise(function(t,o){(new r.GLTFLoader).load(e||"https://storage.googleapis.com/models-glb-for-test/out2.glb",function(e){this.model=e,this.scene.add(this.model.scene),t()}.bind(n),function(e){console.log(e.loaded/e.total*100+"% loaded")}.bind(n),function(e){o(e)}.bind(n))})}}]),e}(),c=function(e){return document.querySelector(e)};function s(e){var n=new a({camera:{fov:75,aspect:1,near:.1,fear:1e3,position:{z:30}},dom:{main:"render"}});n.addModel(e).then(function(){n.addSimpleLight({intencity:3,decay:2,z:100});!function e(){requestAnimationFrame(e),n.model.scene.rotation.y-=.01,n.renderer.render(n.scene,n.camera)}()}).catch(function(e){console.log("An error happened",e)})}s(),function(e){var n=c("#model");n.addEventListener("change",function(){var t=n.files[0],o=new FileReader;o.onloadstart=function(){console.log("start")},o.onerror=function(){console.log("error")},o.onload=function(n){console.log(n);var t=c("#render");t.removeChild(t.childNodes[0]),e(n.srcElement.result)},o.readAsDataURL(t)})}(s)}]);